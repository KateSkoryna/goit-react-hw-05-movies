"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[472],{9741:function(e,t,n){n.d(t,{n2:function(){return l},sU:function(){return p},Ap:function(){return m}});var r=n(2982),o=n(5861),c=n(885),a=n(4687),i=n.n(a),u=n(409),s=n(2791),p=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],a=t[1],p=(0,s.useState)(!0),f=(0,c.Z)(p,2),v=f[0],l=f[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.lm)();case 3:t=e.sent,a((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,l(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),{movies:n,isLoading:v}},f=n(2007),v=n.n(f),l=function(e,t){var n=(0,s.useState)({}),r=(0,c.Z)(n,2),a=r[0],u=r[1],p=(0,s.useState)(!0),f=(0,c.Z)(p,2),v=f[0],l=f[1];return(0,s.useEffect)((function(){var n=function(){var n=(0,o.Z)(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:r=n.sent,u(r),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,l(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[e,t]),{movieInfo:a,isLoading:v}};l.propTypes=(v().string.isRequired,v().func.isRequired);var h=n(6731),g=n(5264),m=function(){var e=(0,s.useState)(""),t=(0,c.Z)(e,2),n=t[0],a=t[1],p=(0,s.useState)((function(){var e;return null!==(e=JSON.parse(window.localStorage.getItem("movies")))&&void 0!==e?e:[]})),f=(0,c.Z)(p,2),v=f[0],l=f[1],m=(0,s.useState)(!1),d=(0,c.Z)(m,2),b=d[0],y=d[1],w=(0,h.lr)(),Z=(0,c.Z)(w,2),x=Z[0],O=Z[1];(0,s.useEffect)((function(){window.localStorage.setItem("movies",JSON.stringify(v))}),[v]),(0,s.useEffect)((function(){if(n){var e=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,(0,u.y_)(n);case 4:0===(t=e.sent).length?g.Notify.failure("Sorry! There is no photo with this name. Try something else!"):l((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,O({query:n}),y(!1),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,O]);return{isLoading:b,movies:v,searchParams:x,addValue:function(e){var t=e.inputValue;t!==n?(a(t),l([])):a(t)}}}},4472:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r,o,c,a=n(8683),i=n(4925),u=n(7689),s=n(409),p=n(3888),f=n(9741),v=n(168),l=n(5397),h=l.Z.p(r||(r=(0,v.Z)(["\n  margin-top: 10px;\n"]))),g=n(184),m=function(e){var t=e.author,n=e.content;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h4",{children:["Author: ",t]}),(0,g.jsx)(h,{children:n})]})},d=l.Z.p(o||(o=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 700;\n  margin-top: 10px;\n"]))),b=l.Z.li(c||(c=(0,v.Z)(["\n  margin-top: 20px;\n"]))),y=["id"],w=function(){var e=(0,u.UO)().id,t=(0,f.n2)(e,s.u9),n=t.movieInfo,r=t.isLoading,o=n.results;return r&&n!=={}?(0,g.jsx)(p.Z,{}):0===o.length?(0,g.jsx)(d,{children:"Sorry...There is no review yet. You can be the first!"}):(0,g.jsx)("ul",{children:o.map((function(e){var t=e.id,n=(0,i.Z)(e,y);return(0,g.jsx)(b,{children:(0,g.jsx)(m,(0,a.Z)({},n))},t)})).filter((function(e,t){return t<=8}))})}},409:function(e,t,n){n.d(t,{GZ:function(){return p},OX:function(){return f},lm:function(){return u},u9:function(){return v},y_:function(){return s}});var r=n(5861),o=n(4687),c=n.n(o),a=n(1044),i="fd7341fdf0f2e94a335192ece09ea376",u=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/movie/week",e.prev=1,e.next=4,a.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/week","?api_key=").concat(i,"&page=1"));case 4:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 9:e.prev=9,e.t0=e.catch(1),console.error("Something wrong! Can not get full trends"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/search/movie",e.prev=1,e.next=4,a.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(i,"&query=").concat(t,"&page=1"));case 4:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 9:e.prev=9,e.t0=e.catch(1),console.error("Something wrong! Can not search films"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/",e.prev=1,e.next=4,a.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(t,"?api_key=").concat(i));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error("Something wrong! Can not search films by ID"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/",e.prev=1,e.next=4,a.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(t,"/credits?api_key=").concat(i));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error("Something wrong! Can not search films by ID"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/",e.prev=1,e.next=4,a.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(t,"/reviews?api_key=").concat(i));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error("Something wrong! Can not search films by ID"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},8683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return c}})},4925:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=472.c173fb3c.chunk.js.map