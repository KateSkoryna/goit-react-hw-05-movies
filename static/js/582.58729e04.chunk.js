"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[582],{5640:function(n,e,t){t.d(e,{Z:function(){return v}});var r,a,o,i=t(7689),c=t(168),u=t(5397),s=t(6731),p=u.Z.ul(r||(r=(0,c.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),f=u.Z.li(a||(a=(0,c.Z)(["\n  flex-basis: calc((100% - 40px) / 2);\n  font-size: 26px;\n  font-weight: 500;\n  text-align: center;\n"]))),l=(0,u.Z)(s.OL)(o||(o=(0,c.Z)(["\n  color: black;\n\n  &:hover,\n  &:focus {\n    color: red;\n    font-weight: 700;\n  }\n"]))),h=t(184),v=function(n){var e=n.movies,t=(0,i.TH)();return(0,h.jsx)(p,{children:e.map((function(n){var e=n.id,r=n.title;return(0,h.jsx)(f,{children:(0,h.jsx)(l,{to:"/movies/".concat(e),state:{from:t},children:r})},e)}))})}},9741:function(n,e,t){t.d(e,{n2:function(){return h},sU:function(){return p},Ap:function(){return g}});var r=t(2982),a=t(5861),o=t(885),i=t(4687),c=t.n(i),u=t(409),s=t(2791),p=function(){var n=(0,s.useState)([]),e=(0,o.Z)(n,2),t=e[0],i=e[1],p=(0,s.useState)(!0),f=(0,o.Z)(p,2),l=f[0],h=f[1];return(0,s.useEffect)((function(){var n=function(){var n=(0,a.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,u.lm)();case 3:e=n.sent,i((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,h(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),{movies:t,isLoading:l}},f=t(2007),l=t.n(f),h=function(n,e){var t=(0,s.useState)({}),r=(0,o.Z)(t,2),i=r[0],u=r[1],p=(0,s.useState)(!0),f=(0,o.Z)(p,2),l=f[0],h=f[1];return(0,s.useEffect)((function(){var t=function(){var t=(0,a.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:r=t.sent,u(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,h(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[n,e]),{movieInfo:i,isLoading:l}};h.propTypes=(l().string.isRequired,l().func.isRequired);var v=t(6731),d=t(5264),g=function(){var n=(0,s.useState)(""),e=(0,o.Z)(n,2),t=e[0],i=e[1],p=(0,s.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem("movies")))&&void 0!==n?n:[]})),f=(0,o.Z)(p,2),l=f[0],h=f[1],g=(0,s.useState)(!1),m=(0,o.Z)(g,2),x=m[0],b=m[1],w=(0,v.lr)(),Z=(0,o.Z)(w,2),y=Z[0],k=Z[1];(0,s.useEffect)((function(){window.localStorage.setItem("movies",JSON.stringify(l))}),[l]),(0,s.useEffect)((function(){if(t){var n=function(){var n=(0,a.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(!0),n.next=4,(0,u.y_)(t);case 4:0===(e=n.sent).length?d.Notify.failure("Sorry! There is no photo with this name. Try something else!"):h((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,k({query:t}),b(!1),n.finish(11);case 15:case"end":return n.stop()}}),n,null,[[0,8,11,15]])})));return function(){return n.apply(this,arguments)}}();n()}}),[t,k]);return{isLoading:x,movies:l,searchParams:y,addValue:function(n){var e=n.inputValue;e!==t?(i(e),h([])):i(e)}}}},7582:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,a,o,i,c,u=t(8185),s=t(5264),p=t(5705),f=t(168),l=t(5397),h=l.Z.div(r||(r=(0,f.Z)(["\n  width: 100%;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  margin-bottom: 10px;\n  background-image: repeating-radial-gradient(\n    circle,\n    black,\n    red 20px,\n    black 30px,\n    red 20px\n  );\n"]))),v=(0,l.Z)(p.l0)(a||(a=(0,f.Z)(["\n  position: relative;\n  width: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n"]))),d=l.Z.label(o||(o=(0,f.Z)(["\n  width: 100%;\n"]))),g=l.Z.input(i||(i=(0,f.Z)(["\n  width: 100%;\n  height: 30px;\n  padding-left: 40px;\n  padding-right: 10px;\n  background-color: #fff;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 4px;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n  outline: none;\n\n  &:hover,\n  &:focus {\n    border-color: rgba(255, 0, 0, 0.7);\n  }\n"]))),m=l.Z.button(c||(c=(0,f.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: block;\n  padding-top: 5px;\n  width: 30px;\n  height: 100%;\n  background-color: white;\n  border: transparent;\n\n  &:hover,\n  &:focus {\n    background-color: rgba(255, 0, 0, 0.7);\n  }\n"]))),x=t(184),b=function(n){var e,t=n.onSubmit;return(0,x.jsx)(h,{children:(0,x.jsx)(p.J9,{initialValues:{inputValue:null!==(e=JSON.parse(window.localStorage.getItem("values")))&&void 0!==e?e:""},onSubmit:function(n){""===n.inputValue?s.Notify.failure("Please, enter something for me to find!"):(t(n),window.localStorage.setItem("values",JSON.stringify(Object.values(n))))},children:(0,x.jsxs)(v,{children:[(0,x.jsx)(d,{children:(0,x.jsx)(p.gN,{name:"inputValue",as:g,placeholder:"Search images and photos",autocomplete:"off"})}),(0,x.jsx)(m,{type:"submit",children:(0,x.jsx)(u.dVI,{width:"20",height:"20"})})]})})})},w=t(5640),Z=t(3888),y=t(9741),k=function(){var n=(0,y.Ap)(),e=n.isLoading,t=n.movies,r=n.searchParams,a=n.addValue;return(0,x.jsxs)("section",{children:[(0,x.jsx)(b,{onSubmit:a}),e&&r?(0,x.jsx)(Z.Z,{}):(0,x.jsx)(w.Z,{movies:t})]})}},409:function(n,e,t){t.d(e,{GZ:function(){return p},OX:function(){return f},lm:function(){return u},u9:function(){return l},y_:function(){return s}});var r=t(5861),a=t(4687),o=t.n(a),i=t(1044),c="fd7341fdf0f2e94a335192ece09ea376",u=function(){var n=(0,r.Z)(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/trending/movie/week",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/week","?api_key=").concat(c,"&page=1"));case 4:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not get full trends"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/search/movie",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(c,"&query=").concat(e,"&page=1"));case 4:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/credits?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/reviews?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=582.58729e04.chunk.js.map