"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[103],{9741:function(n,e,t){t.d(e,{n2:function(){return v},sU:function(){return p},Ap:function(){return m}});var r=t(2982),o=t(5861),a=t(885),i=t(4687),c=t.n(i),s=t(409),u=t(2791),p=function(){var n=(0,u.useState)([]),e=(0,a.Z)(n,2),t=e[0],i=e[1],p=(0,u.useState)(!0),f=(0,a.Z)(p,2),l=f[0],v=f[1];return(0,u.useEffect)((function(){var n=function(){var n=(0,o.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.lm)();case 3:e=n.sent,i((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:return n.prev=10,v(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),{movies:t,isLoading:l}},f=t(2007),l=t.n(f),v=function(n,e){var t=(0,u.useState)({}),r=(0,a.Z)(t,2),i=r[0],s=r[1],p=(0,u.useState)(!0),f=(0,a.Z)(p,2),l=f[0],v=f[1];return(0,u.useEffect)((function(){var t=function(){var t=(0,o.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:r=t.sent,s(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,v(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[n,e]),{movieInfo:i,isLoading:l}};v.propTypes=(l().string.isRequired,l().func.isRequired);var h=t(6731),d=t(5264),m=function(){var n=(0,u.useState)(""),e=(0,a.Z)(n,2),t=e[0],i=e[1],p=(0,u.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem("movies")))&&void 0!==n?n:[]})),f=(0,a.Z)(p,2),l=f[0],v=f[1],m=(0,u.useState)(!1),x=(0,a.Z)(m,2),g=x[0],w=x[1],Z=(0,h.lr)(),b=(0,a.Z)(Z,2),y=b[0],k=b[1];(0,u.useEffect)((function(){window.localStorage.setItem("movies",JSON.stringify(l))}),[l]),(0,u.useEffect)((function(){if(t){var n=function(){var n=(0,o.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,w(!0),n.next=4,(0,s.y_)(t);case 4:0===(e=n.sent).length?d.Notify.failure("Sorry! There is no photo with this name. Try something else!"):v((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,k({query:t}),w(!1),n.finish(11);case 15:case"end":return n.stop()}}),n,null,[[0,8,11,15]])})));return function(){return n.apply(this,arguments)}}();n()}}),[t,k]);return{isLoading:g,movies:l,searchParams:y,addValue:function(n){var e=n.inputValue;e!==t?(i(e),v([])):i(e)}}}},5103:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r,o,a,i,c,s,u,p,f,l=t(7689),v=t(2791),h=t(168),d=t(5397),m=t(6731),x=d.Z.section(r||(r=(0,h.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  border-bottom: 1px solid black;\n  padding-bottom: 10px;\n"]))),g=(0,d.Z)(m.rU)(o||(o=(0,h.Z)(["\n  display: flex;\n  font-size: 12px;\n  width: 80px;\n  height: 30px;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  text-transform: uppercase;\n  font-weight: 700;\n  color: black;\n  border: black 1px solid;\n  margin-bottom: 20px;\n\n  &:hover,\n  &:focus {\n    color: white;\n    font-weight: 700;\n    background-color: red;\n    border: transparent 1px solid;\n  }\n"]))),w=d.Z.div(a||(a=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n"]))),Z=d.Z.img(i||(i=(0,h.Z)(["\n  display: block;\n  margin-right: 20px;\n"]))),b=d.Z.div(c||(c=(0,h.Z)(["\n  flex-grow: 2;\n  justify-content: flex;\n"]))),y=d.Z.h2(s||(s=(0,h.Z)(["\n  font-size: 38px;\n  text-transform: uppercase;\n  margin-bottom: 10px;\n"]))),k=d.Z.h3(u||(u=(0,h.Z)(["\n  font-size: 32px;\n"]))),j=d.Z.p(p||(p=(0,h.Z)(["\n  font-size: 26px;\n  margin-bottom: 10px;\n"]))),S=(0,d.Z)(m.OL)(f||(f=(0,h.Z)(["\n  color: black;\n  font-size: 26px;\n\n  &:hover,\n  &:focus {\n    color: red;\n    font-weight: 700;\n  }\n"]))),_=t(184),C=function(n){var e,t,r=n.movie,o=r.poster_path,a=r.title,i=r.vote_average,c=r.overview,s=r.genres,u=null!==(e=null===(t=(0,l.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies";return(0,_.jsxs)(x,{children:[(0,_.jsx)(g,{to:u,children:"Go Back"}),(0,_.jsxs)(w,{children:[(0,_.jsx)(Z,{src:"https://www.themoviedb.org/t/p/w500".concat(o),alt:a}),(0,_.jsxs)(b,{children:[(0,_.jsx)(y,{children:a}),(0,_.jsx)(k,{children:"User Score"}),(0,_.jsx)(j,{children:i.toFixed(1)}),(0,_.jsx)(k,{children:"Overview"}),(0,_.jsx)(j,{children:c}),(0,_.jsx)(k,{children:"Genres"}),(0,_.jsx)(j,{children:s.map((function(n){return n.name})).join(", ")})]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)(k,{children:"Additional info"}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:(0,_.jsx)(S,{to:"cast",state:{from:u},children:"Cast"})}),(0,_.jsx)("li",{children:(0,_.jsx)(S,{to:"review",state:{from:u},children:"Review"})})]})]})]})},I=t(3888),O=t(9741),z=t(409),L=function(){var n=(0,l.UO)().id,e=(0,O.n2)(n,z.GZ),t=e.movieInfo;return e.isLoading&&t!=={}?(0,_.jsx)(I.Z,{}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(C,{movie:t}),(0,_.jsx)(v.Suspense,{fallback:(0,_.jsx)(I.Z,{}),children:(0,_.jsx)(l.j3,{})})]})}},409:function(n,e,t){t.d(e,{GZ:function(){return p},OX:function(){return f},lm:function(){return s},u9:function(){return l},y_:function(){return u}});var r=t(5861),o=t(4687),a=t.n(o),i=t(1044),c="fd7341fdf0f2e94a335192ece09ea376",s=function(){var n=(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/trending/movie/week",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/week","?api_key=").concat(c,"&page=1"));case 4:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not get full trends"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/search/movie",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(c,"&query=").concat(e,"&page=1"));case 4:return t=n.sent,r=t.data,n.abrupt("return",r.results);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/credits?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://api.themoviedb.org/3/movie/",n.prev=1,n.next=4,i.Z.get("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/reviews?api_key=").concat(c));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.error("Something wrong! Can not search films by ID"+n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=103.23af0184.chunk.js.map